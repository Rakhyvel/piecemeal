{% load format_extras %}
{% if not food_item %}
<div class="form-check form-switch mb-3">
<input class="form-check-input" type="checkbox" id="toggleFormSwitch" checked>
<label class="form-check-label" for="toggleFormSwitch" id="toggleLabel">Add Meal</label>
</div>
{% endif %}
<form method="post"
    class="create-food-item-form"
    action="{% if food_item %}{% url action_url_name food_item.id %}{% else %}{% url action_url_name %}{% endif %}" 
    data-type="meal">
    
    <div class="form-group">
        <input type="text" id="id_name" name="name" class="{% if form.name.errors %}invalid{% endif %}" 
            value="{{ food_item.name }}" placeholder="Meal name">
    </div>

    <div class="form-group">
        <label for="id_makes">Servings made:</label>
        <input type="number" name="makes" id="id_makes" value="{{ food_item.makes|smart_float }}" >
    </div>

    {% include "piecemeal_app/partials/meal_ingredients_list.html" %}

    <button type="button" id="add-ingredient-row">+ Add Ingredient</button>
    <div class="form-action-buttons">
        <button type="submit">Save Meal</button>
        <button type="button" data-bs-dismiss="modal">Cancel</button>
    </div>
</form>